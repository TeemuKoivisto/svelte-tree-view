import{c as R,a as n,t as ee,s as c,f as _}from"../chunks/-ovcc_Db.js";import{i as te}from"../chunks/wkQgMRAt.js";import{p as j,a as q,n as H,G as W,t as e,J as I,H as h,c as f,r as l,I as ae,o as se}from"../chunks/uS0-QRX5.js";import{g as re,i as ne,a as J,p as oe,t as pe,b as le,c as ue,d as de,s as ie}from"../chunks/CuTqTKGc.js";import{s as z,r as ve,i as G}from"../chunks/Cj3drD5l.js";import{s as V,a as fe}from"../chunks/BF6bDuwG.js";import{T as ce}from"../chunks/7XL7l2aI.js";import{D as _e,m as M}from"../chunks/DnNtBdFr.js";var me=_('<span class="added svelte-vtrl0"> </span>'),ge=_('<span class="updated svelte-vtrl0"><span class="deleted svelte-vtrl0"> </span> <span class="arrow svelte-vtrl0">=&gt;</span> <span class="added svelte-vtrl0"> </span></span>'),he=_('<span class="deleted svelte-vtrl0"> </span>'),xe=_('<span class="deleted svelte-vtrl0"> </span>'),ye=_('<span class="added svelte-vtrl0"> </span>'),Ne=_("<span> </span>"),De=_('<span class="updated svelte-vtrl0"></span>');function we(T,x){j(x,!0);let $=ve(x,["$$slots","$$events","$$legacy"]),t=I(()=>x.node.getValue());const{formatValue:B}=x.getTreeContext();function b(a){return a.replace(/\s/gm," ")}function C(a){return a.split(/\n/gm).slice(1).map(d=>({[d.startsWith("-")?"delete":d.startsWith("+")?"add":"raw"]:b(d.substr(1))}))}function m(a){if(a===null)return"null";const u=JSON.stringify(a);return typeof u>"u"?"undefined":u.length>22?`${u.substr(0,15)}…${u.substr(-5)}`:u}function y(a){return typeof a=="string"?a:m(a)}_e(T,z(()=>$,{valueSnippet:(u,d=H)=>{var g=R(),D=W(g);{var F=N=>{var w=R(),L=W(w);{var Q=r=>{var s=me(),i=f(s,!0);l(s),h(o=>c(i,o),[()=>y(e(t)[0])]),n(r,s)},U=r=>{var s=ge(),i=f(s),o=f(i,!0);l(i);var O=ae(i,4),k=f(O,!0);l(O),l(s),h((A,E)=>{c(o,A),c(k,E)},[()=>y(e(t)[0]),()=>y(e(t)[1])]),n(r,s)},X=r=>{var s=he(),i=f(s,!0);l(s),h(o=>c(i,o),[()=>y(e(t)[0])]),n(r,s)},Y=r=>{var s=De();re(s,21,()=>C(e(t)[0]),ne,(i,o)=>{var O=R(),k=W(O);{var A=v=>{var p=xe(),S=f(p,!0);l(p),h(()=>c(S,e(o).delete)),n(v,p)},E=v=>{var p=ye(),S=f(p,!0);l(p),h(()=>c(S,e(o).add)),n(v,p)},Z=v=>{var p=Ne(),S=f(p,!0);l(p),h(()=>c(S,e(o).raw)),n(v,p)};G(k,v=>{e(o).delete?v(A):e(o).add?v(E,1):v(Z,!1)})}n(i,O)}),l(s),n(r,s)};G(L,r=>{e(t).length===1?r(Q):e(t).length===2?r(U,1):e(t).length===3&&e(t)[1]===0&&e(t)[2]===0?r(X,2):e(t).length===3&&e(t)[2]===2&&r(Y,3)})}n(N,w)},K=I(()=>Array.isArray(e(t))),P=N=>{var w=ee();h(L=>c(w,L),[()=>B(e(t),d())]),n(N,w)};G(D,N=>{e(K)?N(F):N(P,!1)})}n(u,g)},$$slots:{valueSnippet:!0}})),q()}var Oe=_('<ul class="svelte-tree-view w-1/2 px-4 svelte-1xcdwp0"><!></ul>');function Le(T,x){j(x,!1);const $=()=>V(J,"$parsedRecursionOpts",m),t=()=>V(oe,"$parsedData",m),B=()=>V(pe,"$treeOpts",m),b=()=>V(le,"$parsedValueFormatter",m),C=()=>V(ue,"$parsedTheme",m),[m,y]=fe();se(()=>{ie("diff"),$()?J.update(a=>(a.mapChildren=M,a.shouldExpandNode=()=>!0,a)):J.set({mapChildren:M,shouldExpandNode:()=>!0})}),te(),ce(T,{get data(){return t()},get showLogButton(){return B().showLogButton},get showCopyButton(){return B().showCopyButton},get recursionOpts(){return $()},get valueFormatter(){return b()},get theme(){return C()},rootNode:(d,g=H)=>{var D=Oe(),F=f(D);de(F,g),l(D),n(d,D)},treeNode:(d,g=H)=>{we(d,z(g))},$$slots:{rootNode:!0,treeNode:!0}}),q(),y()}export{Le as component};
