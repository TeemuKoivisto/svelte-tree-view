import{c as A,a as p,t as tt,s as c,f as m}from"../chunks/DdtxOMYw.js";import{i as et}from"../chunks/D7-iek43.js";import{p as H,a as I,n as M,E as R,l as t,J as $,F as g,G as _,H as v,I as at,o as st}from"../chunks/DgRHvA05.js";import{s as j,r as rt,i as W}from"../chunks/BUXqfv4L.js";import{s as N,a as nt}from"../chunks/BkfkNcBg.js";import{D as ot,T as pt}from"../chunks/CWci3AOs.js";import{e as lt,i as ut,a as J,p as it,b as dt,s as vt,t as ft}from"../chunks/qcKXYCGW.js";import{m as G}from"../chunks/BBbpfClO.js";var ct=m('<span class="added svelte-vtrl0"> </span>'),_t=m('<span class="updated svelte-vtrl0"><span class="deleted svelte-vtrl0"> </span> <span class="arrow svelte-vtrl0">=&gt;</span> <span class="added svelte-vtrl0"> </span></span>'),gt=m('<span class="deleted svelte-vtrl0"> </span>'),mt=m('<span class="deleted svelte-vtrl0"> </span>'),ht=m('<span class="added svelte-vtrl0"> </span>'),xt=m("<span> </span>"),yt=m('<span class="updated svelte-vtrl0"></span>');function wt(O,f){H(f,!0);let C=rt(f,["$$slots","$$events","$$legacy","showLogButton","showCopyButton"]),e=$(()=>f.node.getValue());const{formatValue:S}=f.getTreeContext();function b(s){return s.replace(/\s/gm," ")}function h(s){return s.split(/\n/gm).slice(1).map(y=>({[y.startsWith("-")?"delete":y.startsWith("+")?"add":"raw"]:b(y.substr(1))}))}function V(s){if(s===null)return"null";const l=JSON.stringify(s);return typeof l>"u"?"undefined":l.length>22?`${l.substr(0,15)}…${l.substr(-5)}`:l}function u(s){return typeof s=="string"?s:V(s)}ot(O,j(()=>C,{get showLogButton(){return f.showLogButton},get showCopyButton(){return f.showCopyButton},valueSnippet:(l,y=M)=>{var L=A(),q=R(L);{var z=x=>{var w=A(),F=R(w);{var Q=r=>{var a=ct(),i=_(a,!0);v(a),g(n=>c(i,n),[()=>u(t(e)[0])]),p(r,a)},U=r=>{var a=_t(),i=_(a),n=_(i,!0);v(i);var B=at(i,4),E=_(B,!0);v(B),v(a),g((T,k)=>{c(n,T),c(E,k)},[()=>u(t(e)[0]),()=>u(t(e)[1])]),p(r,a)},X=r=>{var a=gt(),i=_(a,!0);v(a),g(n=>c(i,n),[()=>u(t(e)[0])]),p(r,a)},Y=r=>{var a=yt();lt(a,21,()=>h(t(e)[0]),ut,(i,n)=>{var B=A(),E=R(B);{var T=d=>{var o=mt(),D=_(o,!0);v(o),g(()=>c(D,t(n).delete)),p(d,o)},k=d=>{var o=ht(),D=_(o,!0);v(o),g(()=>c(D,t(n).add)),p(d,o)},Z=d=>{var o=xt(),D=_(o,!0);v(o),g(()=>c(D,t(n).raw)),p(d,o)};W(E,d=>{t(n).delete?d(T):t(n).add?d(k,1):d(Z,!1)})}p(i,B)}),v(a),p(r,a)};W(F,r=>{t(e).length===1?r(Q):t(e).length===2?r(U,1):t(e).length===3&&t(e)[1]===0&&t(e)[2]===0?r(X,2):t(e).length===3&&t(e)[2]===2&&r(Y,3)})}p(x,w)},K=$(()=>Array.isArray(t(e))),P=x=>{var w=tt();g(F=>c(w,F),[()=>S(t(e),y())]),p(x,w)};W(q,x=>{t(K)?x(z):x(P,!1)})}p(l,L)},$$slots:{valueSnippet:!0}})),I()}function Lt(O,f){H(f,!1);const C=()=>N(J,"$parsedRecursionOpts",h),e=()=>N(it,"$parsedData",h),S=()=>N(dt,"$parsedValueFormatter",h),b=()=>N(ft,"$treeOpts",h),[h,V]=nt();st(()=>{vt("diff"),C()?J.update(u=>(u.mapChildren=G,u.shouldExpandNode=()=>!0,u)):J.set({mapChildren:G,shouldExpandNode:()=>!0})}),et(),pt(O,{get data(){return e()},get recursionOpts(){return C()},get valueFormatter(){return S()},class:"w-1/2 bg-(--tree-view-base00) px-4",treeNode:(s,l=M)=>{wt(s,j(l,{get showLogButton(){return b().showLogButton},get showCopyButton(){return b().showCopyButton}}))},$$slots:{treeNode:!0}}),I(),V()}export{Lt as component};
