import"../chunks/NZTpNUN0.js";import{i as ue}from"../chunks/BjSywOor.js";import{o as ve}from"../chunks/Ba2SDbxX.js";import{B as Z,C as ee,n as K,U as j,O as q,H as s,a as e,T as ie,V as fe,P as m,R as d,D as u,E as l,G as r,Q as ce,F as _e}from"../chunks/C5ZeV78G.js";import{s as te,r as me,i as g}from"../chunks/D4jLHckW.js";import{s as F,a as ge}from"../chunks/4YIckaYW.js";import{D as he,T as xe}from"../chunks/9YHOfqqP.js";import{f as ye,i as De,p as I,t as Ne,a as ze,b as Oe,c as Se,s as Ve}from"../chunks/DIjv_465.js";import{m as Y}from"../chunks/BBbpfClO.js";var we=u('<span class="added svelte-vrd8z6"> </span>'),Be=u('<span class="updated svelte-vrd8z6"><span class="deleted svelte-vrd8z6"> </span> <span class="arrow svelte-vrd8z6">=&gt;</span> <span class="added svelte-vrd8z6"> </span></span>'),Te=u('<span class="deleted svelte-vrd8z6"> </span>'),$e=u('<span class="deleted svelte-vrd8z6"> </span>'),Ce=u('<span class="added svelte-vrd8z6"> </span>'),be=u("<span> </span>"),Fe=u('<span class="updated svelte-vrd8z6"></span>');function ke(L,h){Z(h,!0);let v=me(h,["$$slots","$$events","$$legacy"]),t=ie(()=>h.node.getValue());const{propsStore:{formatValue:k}}=h.getTreeContext();function R(a){return a.replace(/\s/gm," ")}function E(a){return a.split(/\n/gm).slice(1).map(o=>({[o.startsWith("-")?"delete":o.startsWith("+")?"add":"raw"]:R(o.substr(1))}))}function A(a){if(a===null)return"null";const n=JSON.stringify(a);return typeof n>"u"?"undefined":n.length>22?`${n.substr(0,15)}…${n.substr(-5)}`:n}function x(a){return typeof a=="string"?a:A(a)}he(L,te(()=>v,{valueSnippet:(n,o=K)=>{var i=j(),S=q(i);{var W=y=>{var V=j(),G=q(V);{var se=D=>{var w=we(),H=l(w,!0);r(w),m(J=>d(H,J),[()=>x(e(t)[0])]),s(D,w)},re=(D,w)=>{{var H=N=>{var B=Be(),T=l(B),M=l(T,!0);r(T);var p=ce(T,4),f=l(p,!0);r(p),r(B),m(($,c)=>{d(M,$),d(f,c)},[()=>x(e(t)[0]),()=>x(e(t)[1])]),s(N,B)},J=(N,B)=>{{var T=p=>{var f=Te(),$=l(f,!0);r(f),m(c=>d($,c),[()=>x(e(t)[0])]),s(p,f)},M=(p,f)=>{{var $=c=>{var P=Fe();ye(P,21,()=>E(e(t)[0]),De,(ne,C)=>{var X=j(),oe=q(X);{var pe=z=>{var b=$e(),Q=l(b,!0);r(b),m(()=>d(Q,e(C).delete)),s(z,b)},le=(z,b)=>{{var Q=O=>{var _=Ce(),U=l(_,!0);r(_),m(()=>d(U,e(C).add)),s(O,_)},de=O=>{var _=be(),U=l(_,!0);r(_),m(()=>d(U,e(C).raw)),s(O,_)};g(z,O=>{e(C).add?O(Q):O(de,!1)},b)}};g(oe,z=>{e(C).delete?z(pe):z(le,!1)})}s(ne,X)}),r(P),s(c,P)};g(p,c=>{e(t).length===3&&e(t)[2]===2&&c($)},f)}};g(N,p=>{e(t).length===3&&e(t)[1]===0&&e(t)[2]===0?p(T):p(M,!1)},B)}};g(D,N=>{e(t).length===2?N(H):N(J,!1)},w)}};g(G,D=>{e(t).length===1?D(se):D(re,!1)})}s(y,V)},ae=y=>{var V=fe();m(G=>d(V,G),[()=>k(e(t),o())]),s(y,V)};g(S,y=>{Array.isArray(e(t))?y(W):y(ae,!1)})}s(n,i)},$$slots:{valueSnippet:!0}})),ee()}var Ee=u('<ul class="svelte-tree-view w-1/2 px-4 svelte-7zxafk"><!></ul>');function Qe(L,h){Z(h,!1);const[v,t]=ge(),k=()=>F(I,"$parsedRecursionOpts",v),R=()=>F(Se,"$parsedData",v),E=()=>F(Ne,"$treeOpts",v),A=()=>F(ze,"$parsedValueFormatter",v),x=()=>F(Oe,"$parsedTheme",v);ve(()=>{Ve("diff"),k()?I.update(a=>(a.mapChildren=Y,a.shouldExpandNode=()=>!0,a)):I.set({mapChildren:Y,shouldExpandNode:()=>!0})}),ue(),xe(L,{get data(){return R()},get showLogButton(){return E().showLogButton},get showCopyButton(){return E().showCopyButton},get recursionOpts(){return k()},get valueFormatter(){return A()},get theme(){return x()},rootNode:(o,i=K)=>{var S=Ee(),W=l(S);_e(W,i),r(S),s(o,S)},treeNode:(o,i=K)=>{ke(o,te(i))},$$slots:{rootNode:!0,treeNode:!0}}),ee(),t()}export{Qe as component};
