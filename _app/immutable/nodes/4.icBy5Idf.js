import{c as k,a as p,t as ee,s as f,f as m}from"../chunks/DdtxOMYw.js";import{i as te}from"../chunks/D7-iek43.js";import{p as H,a as I,n as M,E as A,l as e,J,F as _,G as c,H as v,I as ae,o as se}from"../chunks/DgRHvA05.js";import{s as j,r as re,i as R}from"../chunks/BUXqfv4L.js";import{s as S,a as ne}from"../chunks/BkfkNcBg.js";import{D as oe,T as pe}from"../chunks/DRW93wMT.js";import{e as le,i as ue,a as W,p as ie,t as de,b as ve,s as fe}from"../chunks/qcKXYCGW.js";import{m as G}from"../chunks/BBbpfClO.js";var ce=m('<span class="added svelte-vtrl0"> </span>'),_e=m('<span class="updated svelte-vtrl0"><span class="deleted svelte-vtrl0"> </span> <span class="arrow svelte-vtrl0">=&gt;</span> <span class="added svelte-vtrl0"> </span></span>'),me=m('<span class="deleted svelte-vtrl0"> </span>'),ge=m('<span class="deleted svelte-vtrl0"> </span>'),he=m('<span class="added svelte-vtrl0"> </span>'),xe=m("<span> </span>"),ye=m('<span class="updated svelte-vtrl0"></span>');function De(V,g){H(g,!0);let N=re(g,["$$slots","$$events","$$legacy"]),t=J(()=>g.node.getValue());const{formatValue:O}=g.getTreeContext();function B(s){return s.replace(/\s/gm," ")}function h(s){return s.split(/\n/gm).slice(1).map(y=>({[y.startsWith("-")?"delete":y.startsWith("+")?"add":"raw"]:B(y.substr(1))}))}function C(s){if(s===null)return"null";const l=JSON.stringify(s);return typeof l>"u"?"undefined":l.length>22?`${l.substr(0,15)}…${l.substr(-5)}`:l}function u(s){return typeof s=="string"?s:C(s)}oe(V,j(()=>N,{valueSnippet:(l,y=M)=>{var $=k(),q=A($);{var z=x=>{var D=k(),F=A(D);{var Q=r=>{var a=ce(),i=c(a,!0);v(a),_(n=>f(i,n),[()=>u(e(t)[0])]),p(r,a)},U=r=>{var a=_e(),i=c(a),n=c(i,!0);v(i);var b=ae(i,4),E=c(b,!0);v(b),v(a),_((L,T)=>{f(n,L),f(E,T)},[()=>u(e(t)[0]),()=>u(e(t)[1])]),p(r,a)},X=r=>{var a=me(),i=c(a,!0);v(a),_(n=>f(i,n),[()=>u(e(t)[0])]),p(r,a)},Y=r=>{var a=ye();le(a,21,()=>h(e(t)[0]),ue,(i,n)=>{var b=k(),E=A(b);{var L=d=>{var o=ge(),w=c(o,!0);v(o),_(()=>f(w,e(n).delete)),p(d,o)},T=d=>{var o=he(),w=c(o,!0);v(o),_(()=>f(w,e(n).add)),p(d,o)},Z=d=>{var o=xe(),w=c(o,!0);v(o),_(()=>f(w,e(n).raw)),p(d,o)};R(E,d=>{e(n).delete?d(L):e(n).add?d(T,1):d(Z,!1)})}p(i,b)}),v(a),p(r,a)};R(F,r=>{e(t).length===1?r(Q):e(t).length===2?r(U,1):e(t).length===3&&e(t)[1]===0&&e(t)[2]===0?r(X,2):e(t).length===3&&e(t)[2]===2&&r(Y,3)})}p(x,D)},K=J(()=>Array.isArray(e(t))),P=x=>{var D=ee();_(F=>f(D,F),[()=>O(e(t),y())]),p(x,D)};R(q,x=>{e(K)?x(z):x(P,!1)})}p(l,$)},$$slots:{valueSnippet:!0}})),I()}function $e(V,g){H(g,!1);const N=()=>S(W,"$parsedRecursionOpts",h),t=()=>S(ie,"$parsedData",h),O=()=>S(de,"$treeOpts",h),B=()=>S(ve,"$parsedValueFormatter",h),[h,C]=ne();se(()=>{fe("diff"),N()?W.update(u=>(u.mapChildren=G,u.shouldExpandNode=()=>!0,u)):W.set({mapChildren:G,shouldExpandNode:()=>!0})}),te(),pe(V,{get data(){return t()},get showLogButton(){return O().showLogButton},get showCopyButton(){return O().showCopyButton},get recursionOpts(){return N()},get valueFormatter(){return B()},class:"w-1/2 bg-(--tree-view-base00) px-4",treeNode:(s,l=M)=>{De(s,j(l))},$$slots:{treeNode:!0}}),I(),C()}export{$e as component};
