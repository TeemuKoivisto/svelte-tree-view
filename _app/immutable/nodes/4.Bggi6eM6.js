import{c as E,a as o,t as ee,s as _,f as m}from"../chunks/lWD8Z06K.js";import{i as te}from"../chunks/Dgx8mpP6.js";import{p as M,a as j,n as G,G as R,t as e,J as H,H as h,c,r as u,I as ae,o as se}from"../chunks/BqIf-X89.js";import{f as re,i as ne,a as W,p as oe,t as pe,b as le,c as ue,s as de}from"../chunks/Btf1R-hm.js";import{s as q,r as ie,i as J}from"../chunks/CcjuvQHP.js";import{s as B,a as ve}from"../chunks/BhXXotsP.js";import{D as fe,T as ce}from"../chunks/BajMLrJ_.js";import{m as I}from"../chunks/BBbpfClO.js";var _e=m('<span class="added svelte-vtrl0"> </span>'),me=m('<span class="updated svelte-vtrl0"><span class="deleted svelte-vtrl0"> </span> <span class="arrow svelte-vtrl0">=&gt;</span> <span class="added svelte-vtrl0"> </span></span>'),ge=m('<span class="deleted svelte-vtrl0"> </span>'),he=m('<span class="deleted svelte-vtrl0"> </span>'),xe=m('<span class="added svelte-vtrl0"> </span>'),ye=m("<span> </span>"),Ne=m('<span class="updated svelte-vtrl0"></span>');function De(b,x){M(x,!0);let S=ie(x,["$$slots","$$events","$$legacy"]),t=H(()=>x.node.getValue());const{formatValue:V}=x.getTreeContext();function C(s){return s.replace(/\s/gm," ")}function y(s){return s.split(/\n/gm).slice(1).map(i=>({[i.startsWith("-")?"delete":i.startsWith("+")?"add":"raw"]:C(i.substr(1))}))}function $(s){if(s===null)return"null";const r=JSON.stringify(s);return typeof r>"u"?"undefined":r.length>22?`${r.substr(0,15)}…${r.substr(-5)}`:r}function d(s){return typeof s=="string"?s:$(s)}fe(b,q(()=>S,{valueSnippet:(r,i=G)=>{var g=E(),F=R(g);{var z=N=>{var D=E(),L=R(D);{var Q=n=>{var a=_e(),v=c(a,!0);u(a),h(p=>_(v,p),[()=>d(e(t)[0])]),o(n,a)},U=n=>{var a=me(),v=c(a),p=c(v,!0);u(v);var w=ae(v,4),T=c(w,!0);u(w),u(a),h((k,A)=>{_(p,k),_(T,A)},[()=>d(e(t)[0]),()=>d(e(t)[1])]),o(n,a)},X=n=>{var a=ge(),v=c(a,!0);u(a),h(p=>_(v,p),[()=>d(e(t)[0])]),o(n,a)},Y=n=>{var a=Ne();re(a,21,()=>y(e(t)[0]),ne,(v,p)=>{var w=E(),T=R(w);{var k=f=>{var l=he(),O=c(l,!0);u(l),h(()=>_(O,e(p).delete)),o(f,l)},A=f=>{var l=xe(),O=c(l,!0);u(l),h(()=>_(O,e(p).add)),o(f,l)},Z=f=>{var l=ye(),O=c(l,!0);u(l),h(()=>_(O,e(p).raw)),o(f,l)};J(T,f=>{e(p).delete?f(k):e(p).add?f(A,1):f(Z,!1)})}o(v,w)}),u(a),o(n,a)};J(L,n=>{e(t).length===1?n(Q):e(t).length===2?n(U,1):e(t).length===3&&e(t)[1]===0&&e(t)[2]===0?n(X,2):e(t).length===3&&e(t)[2]===2&&n(Y,3)})}o(N,D)},K=H(()=>Array.isArray(e(t))),P=N=>{var D=ee();h(L=>_(D,L),[()=>V(e(t),i())]),o(N,D)};J(F,N=>{e(K)?N(z):N(P,!1)})}o(r,g)},$$slots:{valueSnippet:!0}})),j()}var we=m('<ul class="svelte-tree-view w-1/2 px-4 svelte-1xcdwp0"><!></ul>');function Le(b,x){M(x,!1);const S=()=>B(W,"$parsedRecursionOpts",y),t=()=>B(oe,"$parsedData",y),V=()=>B(pe,"$treeOpts",y),C=()=>B(le,"$parsedValueFormatter",y),[y,$]=ve();se(()=>{de("diff"),S()?W.update(d=>(d.mapChildren=I,d.shouldExpandNode=()=>!0,d)):W.set({mapChildren:I,shouldExpandNode:()=>!0})}),te(),ce(b,{get data(){return t()},get showLogButton(){return V().showLogButton},get showCopyButton(){return V().showCopyButton},get recursionOpts(){return S()},get valueFormatter(){return C()},rootNode:(r,i=G)=>{var g=we(),F=c(g);ue(F,i),u(g),o(r,g)},treeNode:(r,i=G)=>{De(r,q(i))},$$slots:{rootNode:!0,treeNode:!0}}),j(),$()}export{Le as component};
