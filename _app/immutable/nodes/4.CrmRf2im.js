import"../chunks/NZTpNUN0.js";import{i as ce}from"../chunks/CB9qkuAo.js";import{o as _e}from"../chunks/0kNXY43k.js";import{C as te,D as ae,n as Y,V as _,P as m,I as r,a as e,U as me,W as ge,Q as g,S as u,E as v,F as p,H as s,R as he,G as xe}from"../chunks/mg2e9jdl.js";import{s as re,r as ye,i as h}from"../chunks/Ba0xM_Rw.js";import{s as k,a as De}from"../chunks/C1kNdz_3.js";import{T as Ne}from"../chunks/B7qj4kJe.js";import{f as ze,i as Se,a as X,p as Ve,t as we,b as Oe,c as $e,s as Be}from"../chunks/DgVSb2ge.js";import{D as Ce,m as ee}from"../chunks/U13wB27e.js";var Te=v('<span class="added svelte-vrd8z6"> </span>'),be=v('<span class="updated svelte-vrd8z6"><span class="deleted svelte-vrd8z6"> </span> <span class="arrow svelte-vrd8z6">=&gt;</span> <span class="added svelte-vrd8z6"> </span></span>'),Fe=v('<span class="deleted svelte-vrd8z6"> </span>'),ke=v('<span class="deleted svelte-vrd8z6"> </span>'),Ee=v('<span class="added svelte-vrd8z6"> </span>'),Le=v("<span> </span>"),Re=v('<span class="updated svelte-vrd8z6"></span>');function We(W,x){te(x,!0);let i=ye(x,["$$slots","$$events","$$legacy"]),t=me(()=>x.node.getValue());const{formatValue:E}=x.getTreeContext();function A(a){return a.replace(/\s/gm," ")}function L(a){return a.split(/\n/gm).slice(1).map(o=>({[o.startsWith("-")?"delete":o.startsWith("+")?"add":"raw"]:A(o.substr(1))}))}function G(a){if(a===null)return"null";const n=JSON.stringify(a);return typeof n>"u"?"undefined":n.length>22?`${n.substr(0,15)}…${n.substr(-5)}`:n}function y(a){return typeof a=="string"?a:G(a)}Ce(W,re(()=>i,{valueSnippet:(n,o=Y)=>{var f=_(),B=m(f);{var H=D=>{var C=_(),I=m(C);{var ne=N=>{var z=Te(),J=p(z,!0);s(z),g(M=>u(J,M),[()=>y(e(t)[0])]),r(N,z)},oe=N=>{var z=_(),J=m(z);{var M=S=>{var V=be(),T=p(V),P=p(T,!0);s(T);var R=he(T,4),l=p(R,!0);s(R),s(V),g((d,b)=>{u(P,d),u(l,b)},[()=>y(e(t)[0]),()=>y(e(t)[1])]),r(S,V)},pe=S=>{var V=_(),T=m(V);{var P=l=>{var d=Fe(),b=p(d,!0);s(d),g(Q=>u(b,Q),[()=>y(e(t)[0])]),r(l,d)},R=l=>{var d=_(),b=m(d);{var Q=U=>{var j=Re();ze(j,21,()=>L(e(t)[0]),Se,(le,F)=>{var Z=_(),de=m(Z);{var ue=w=>{var O=ke(),q=p(O,!0);s(O),g(()=>u(q,e(F).delete)),r(w,O)},ve=w=>{var O=_(),q=m(O);{var ie=$=>{var c=Ee(),K=p(c,!0);s(c),g(()=>u(K,e(F).add)),r($,c)},fe=$=>{var c=Le(),K=p(c,!0);s(c),g(()=>u(K,e(F).raw)),r($,c)};h(q,$=>{e(F).add?$(ie):$(fe,!1)},!0)}r(w,O)};h(de,w=>{e(F).delete?w(ue):w(ve,!1)})}r(le,Z)}),s(j),r(U,j)};h(b,U=>{e(t).length===3&&e(t)[2]===2&&U(Q)},!0)}r(l,d)};h(T,l=>{e(t).length===3&&e(t)[1]===0&&e(t)[2]===0?l(P):l(R,!1)},!0)}r(S,V)};h(J,S=>{e(t).length===2?S(M):S(pe,!1)},!0)}r(N,z)};h(I,N=>{e(t).length===1?N(ne):N(oe,!1)})}r(D,C)},se=D=>{var C=ge();g(I=>u(C,I),[()=>E(e(t),o())]),r(D,C)};h(B,D=>{Array.isArray(e(t))?D(H):D(se,!1)})}r(n,f)},$$slots:{valueSnippet:!0}})),ae()}var Ae=v('<ul class="svelte-tree-view w-1/2 px-4 svelte-7zxafk"><!></ul>');function qe(W,x){te(x,!1);const[i,t]=De(),E=()=>k(X,"$parsedRecursionOpts",i),A=()=>k(Ve,"$parsedData",i),L=()=>k(we,"$treeOpts",i),G=()=>k(Oe,"$parsedValueFormatter",i),y=()=>k($e,"$parsedTheme",i);_e(()=>{Be("diff"),E()?X.update(a=>(a.mapChildren=ee,a.shouldExpandNode=()=>!0,a)):X.set({mapChildren:ee,shouldExpandNode:()=>!0})}),ce(),Ne(W,{get data(){return A()},get showLogButton(){return L().showLogButton},get showCopyButton(){return L().showCopyButton},get recursionOpts(){return E()},get valueFormatter(){return G()},get theme(){return y()},rootNode:(o,f=Y)=>{var B=Ae(),H=p(B);xe(H,f),s(B),r(o,B)},treeNode:(o,f=Y)=>{We(o,re(f))},$$slots:{rootNode:!0,treeNode:!0}}),ae(),t()}export{qe as component};
