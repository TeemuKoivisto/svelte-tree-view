import"../chunks/NZTpNUN0.js";import{i as Ee}from"../chunks/BjSywOor.js";import{o as Re}from"../chunks/Ba2SDbxX.js";import{S as je,B as he,D as i,O as M,Q as k,E as d,P as f,a,R as _,H as n,C as ge,T as ee,G as l,U as te,V as Ae,n as pe,F as We}from"../chunks/C5ZeV78G.js";import{i as v,c as ze,s as Ge}from"../chunks/D4jLHckW.js";import{a as ye,s as B}from"../chunks/4YIckaYW.js";import{T as He}from"../chunks/D6nPANxA.js";import{f as P,e as ue,g as ce,i as fe,p as ae,s as Je,a as Me,b as Pe,d as Qe,c as Ue}from"../chunks/D6Cqd9ze.js";import{m as _e}from"../chunks/BBbpfClO.js";var qe=i("<button>▶</button>"),Ie=i('<span class="added svelte-1wyhoob"> </span>'),Ke=i('<span class="updated svelte-1wyhoob"><span class="deleted svelte-1wyhoob"> </span> <span class="arrow svelte-1wyhoob">=&gt;</span> <span class="added svelte-1wyhoob"> </span></span>'),Xe=i('<span class="deleted svelte-1wyhoob"> </span>'),Ye=i('<span class="deleted svelte-1wyhoob"> </span>'),Ze=i('<span class="added svelte-1wyhoob"> </span>'),$e=i("<span> </span>"),et=i('<span class="updated svelte-1wyhoob"></span>'),tt=i('<button class="log-copy-button svelte-1wyhoob">log</button>'),at=i('<button class="log-copy-button svelte-1wyhoob">copy</button>'),st=i('<li class="row svelte-1wyhoob"><ul class="svelte-1wyhoob"></ul></li>'),ot=i('<li><!> <div role="presentation"> </div> <div role="presentation"><!></div> <div class="buttons svelte-1wyhoob"><!> <!></div></li> <!>',1);function rt(Q,s){he(s,!0);const[g,U]=ye(),D=()=>B(q,"$propsObj",g),{propsStore:{props:q,formatValue:G}}=s.getTreeContext();let p=ee(()=>s.node.children.length>0),I=ee(()=>!s.node.collapsed&&a(p)),o=ee(()=>s.node.value);function se(e){return e.replace(/\s/gm," ")}function O(e){return e.split(/\n/gm).slice(1).map(r=>({[r.startsWith("-")?"delete":r.startsWith("+")?"add":"raw"]:se(r.substr(1))}))}function V(e){if(e===null)return"null";const t=JSON.stringify(e);return typeof t>"u"?"undefined":t.length>22?`${t.substr(0,15)}…${t.substr(-5)}`:t}function h(e){return typeof e=="string"?e:V(e)}var H=ot(),S=M(H);let oe;var re=d(S);{var be=e=>{var t=qe();t.__click=function(...r){s.handleToggleCollapse?.apply(this,r)},f(()=>P(t,1,`arrow-btn ${s.node.collapsed?"collapsed":""}`,"svelte-1wyhoob")),n(e,t)};v(re,e=>{a(p)&&e(be)})}var L=k(re,2);let ne;L.__click=function(...e){s.handleToggleCollapse?.apply(this,e)};var me=d(L);l(L);var x=k(L,2);let le;x.__click=function(...e){s.handleToggleCollapse?.apply(this,e)};var we=d(x);{var xe=e=>{var t=te(),r=M(t);{var J=u=>{var y=Ie(),F=d(y,!0);l(y),f(E=>_(F,E),[()=>h(a(o)[0])]),n(u,y)},K=(u,y)=>{{var F=C=>{var R=Ke(),j=d(R),X=d(j,!0);l(j);var c=k(j,4),b=d(c,!0);l(c),l(R),f((A,m)=>{_(X,A),_(b,m)},[()=>h(a(o)[0]),()=>h(a(o)[1])]),n(C,R)},E=(C,R)=>{{var j=c=>{var b=Xe(),A=d(b,!0);l(b),f(m=>_(A,m),[()=>h(a(o)[0])]),n(c,b)},X=(c,b)=>{{var A=m=>{var Y=et();ce(Y,21,()=>O(a(o)[0]),fe,(Oe,W)=>{var ve=te(),Ve=M(ve);{var Se=N=>{var z=Ye(),Z=d(z,!0);l(z),f(()=>_(Z,a(W).delete)),n(N,z)},Le=(N,z)=>{{var Z=T=>{var w=Ze(),$=d(w,!0);l(w),f(()=>_($,a(W).add)),n(T,w)},Fe=T=>{var w=$e(),$=d(w,!0);l(w),f(()=>_($,a(W).raw)),n(T,w)};v(N,T=>{a(W).add?T(Z):T(Fe,!1)},z)}};v(Ve,N=>{a(W).delete?N(Se):N(Le,!1)})}n(Oe,ve)}),l(Y),n(m,Y)};v(c,m=>{a(o).length===3&&a(o)[2]===2&&m(A)},b)}};v(C,c=>{a(o).length===3&&a(o)[1]===0&&a(o)[2]===0?c(j):c(X,!1)},R)}};v(u,C=>{a(o).length===2?C(F):C(E,!1)},y)}};v(r,u=>{a(o).length===1?u(J):u(K,!1)})}n(e,t)},Ce=e=>{var t=Ae();f(r=>_(t,r),[()=>G(a(o),s.node)]),n(e,t)};v(we,e=>{Array.isArray(a(o))?e(xe):e(Ce,!1)})}l(x);var de=k(x,2),ie=d(de);{var Ne=e=>{var t=tt();t.__click=function(...r){s.handleLogNode?.apply(this,r)},n(e,t)};v(ie,e=>{D().showLogButton&&e(Ne)})}var Te=k(ie,2);{var ke=e=>{var t=at();t.__click=function(...r){s.handleCopyNodeToClipboard?.apply(this,r)},n(e,t)};v(Te,e=>{D().showCopyButton&&e(ke)})}l(de),l(S);var Be=k(S,2);{var De=e=>{var t=st(),r=d(t);ce(r,21,()=>s.node.children,fe,(J,K)=>{var u=te(),y=M(u);ze(y,()=>s.TreeViewNode,(F,E)=>{E(F,{get id(){return a(K).id}})}),n(J,u)}),l(r),l(t),n(e,t)};v(Be,e=>{a(I)&&e(De)})}f((e,t,r)=>{oe=P(S,1,"row svelte-1wyhoob",null,oe,e),ue(S,"data-tree-id",s.node.id),ne=P(L,1,"node-key svelte-1wyhoob",null,ne,t),_(me,`${s.node.key??""}:`),le=P(x,1,"node-value svelte-1wyhoob",null,le,r),ue(x,"data-type",s.node.type)},[()=>({collapsed:s.node.collapsed&&a(p)}),()=>({"has-children":a(p),"p-left":!a(p)}),()=>({expanded:!s.node.collapsed&&a(p),"has-children":a(p)})]),n(Q,H),ge(),U()}je(["click"]);var nt=i('<ul class="svelte-tree-view w-1/2 px-4 svelte-7zxafk"><!></ul>');function ht(Q,s){he(s,!1);const[g,U]=ye(),D=()=>B(ae,"$parsedRecursionOpts",g),q=()=>B(Qe,"$parsedData",g),G=()=>B(Je,"$state",g),p=()=>B(Me,"$parsedValueFormatter",g),I=()=>B(Pe,"$parsedTheme",g);Re(()=>{Ue("diff"),D()?ae.update(o=>(o.mapChildren=_e,o.shouldExpandNode=()=>!0,o)):ae.set({mapChildren:_e,shouldExpandNode:()=>!0})}),Ee(),He(Q,{get data(){return q()},get showLogButton(){return G().showLogButton},get showCopyButton(){return G().showCopyButton},get recursionOpts(){return D()},get valueFormatter(){return p()},get theme(){return I()},rootNode:(O,V=pe)=>{var h=nt(),H=d(h);We(H,V),l(h),n(O,h)},treeNode:(O,V=pe)=>{rt(O,Ge(V))},$$slots:{rootNode:!0,treeNode:!0}}),ge(),U()}export{ht as component};
